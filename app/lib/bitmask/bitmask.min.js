!function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function d(a){return"[object Array]"==Object.prototype.toString.call(a)}function e(a){if(a.length>i)throw new RangeError;return this instanceof e?(this._ref=a.slice(),void 0):new e(a)}function f(a){for(var b,c=0,d=0,f=a.length;f>d;d++)b=a[d],b>=0&&h>=b&&(c=e.set(c,b));return c}var g=-1>>>0,h=31,i=h+1;e.MAX_SHIFT=h,e.MAX_BITMASK=g,e.MAX_LENGTH=i,e.toFlag=function(a){if(0>a||a>h)throw new RangeError;return 1<<a},e.create=function(a){if(d(a))return f(a);if(0>a||a>i)throw new RangeError;return g>>>i-a},e.truncate=function(a,b){return a&e.create(b)},e.set=function(a,b){return a|e.toFlag(b)},e.clear=function(a,b){return a&~e.toFlag(b)},e.toggle=function(a,b){return a^e.toFlag(b)},e.test=function(a,b){return!!(a&e.toFlag(b))},e.testAll=function(a,b){return b?a===e.create(b):a>0&&!(a&a+1)},e.isFlag=function(a){return a>>>=0,a>0&&!(a&a-1)},e.count=function(a){for(var b=0;a>0;a>>>=1)1===a%2&&b++;return b},e.union=function(a,b){return a|b},e.intersection=function(a,b){return a&b},e.difference=function(a,b){return a&~b},e.toVal=function(a){if(a>>>=0,!e.isFlag(a))throw new RangeError;var b=0;return a>65535&&(a>>>=16,b+=16),a>255&&(a>>=8,b+=8),a>15&&(a>>=4,b+=4),a>3&&(a>>=2,b+=2),b+(a>>1)},e.toValues=function(a){for(var b=[],c=0;a>0;a>>>=1,c++)1==a%2&&b.push(c);return b},b(e.prototype,{toFlag:function(a){var b=c(this._ref,a);return b>-1?e.toFlag(b):0},create:function(){return e.create(this._ref.length)},set:function(a,b){return e.set(a,c(this._ref,b))},clear:function(a,b){return e.clear(a,c(this._ref,b))},toggle:function(a,b){return e.toggle(a,c(this._ref,b))},test:function(a,b){return e.test(a,c(this._ref,b))},testAll:function(a){return e.testAll(a,this._ref.length)},union:function(a,b){return d(b)&&(b=this.fromArray(this._ref,b)),e.union(a,b)},intersection:function(a,b){return d(b)&&(b=this.fromArray(this._ref,b)),e.intersection(a,b)},difference:function(a,b){return d(b)&&(b=this.fromArray(this._ref,b)),e.difference(a,b)},isFlag:e.isFlag,count:e.count,toVal:function(a){return this._ref[e.toVal(a)]},toValues:function(a){for(var b=[],c=e.toValues(a),d=0,f=c.length;f>d;d++)b.push(this._ref[c[d]]);return b}}),a.Bitmask=(a.module||{}).exports=e}(this);